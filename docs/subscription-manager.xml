<?xml version="1.0"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
    "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
  <!ENTITY legal SYSTEM "legal.xml">
  <!ENTITY version "0.99.13-1">
  <!ENTITY manrevision "1.1">
  <!ENTITY date "September 2012">
  <!ENTITY app "Subscription Manager">
]>
<!--
      (Do not remove this comment block.)
  Maintained by the GNOME Documentation Project
  http://developer.gnome.org/projects/gdp
  Template version: 2.0 beta
  Template last modified Feb 11, 2002

-->
<!-- =============Document Header ============================= -->
<article id="index" lang="en">
<!-- please do not change the id; for translations, change lang to -->
<!-- appropriate code -->
  <articleinfo>
	 <title>&app; Manual</title>
	 <copyright>
		<year>2012</year>
		<holder>Red Hat, Inc.</holder>
	 </copyright>
<!-- translators: uncomment this:

  <copyright>
   <year>2002</year>
   <holder>ME-THE-TRANSLATOR (Latin translation)</holder>
  </copyright>

   -->
<!-- An address can be added to the publisher information.  If a role is
     not specified, the publisher/author is the same for all versions of the
     document.  -->
	 <publisher role="maintainer">
		<publishername> Red Hat, Inc.</publishername>
	 </publisher>

&legal;
<!-- This file  contains link to license for the documentation (GNU FDL), and
     other legal stuff such as "NO WARRANTY" statement. Please do not change
     any of this. -->

	 <authorgroup>
		<author>
		  <firstname>Ella Deon</firstname>
		  <surname> Lackey</surname>
		  <affiliation>
			 <orgname>Red Hat Content Services</orgname>
			 <address> <email>dlackey@redhat.com</email> </address>
		  </affiliation>
		</author>
      <!-- This is appropriate place for other contributors: translators,
           maintainers,  etc. Commented out by default.
           <othercredit role="translator">
	     <firstname>Latin</firstname>
	     <surname>Translator 1</surname>
	     <affiliation>
	       <orgname>Latin Translation Team</orgname>
	       <address> <email>translator@gnome.org</email> </address>
	     </affiliation>
	     <contrib>Latin translation</contrib>
           </othercredit>
-->
	 </authorgroup>

	 <releaseinfo revision="1.0" role="review">
	 </releaseinfo>

	 <revhistory>

		<revision>
		  <revnumber>&app; Manual</revnumber>
		  <date>April 2012</date>
		  <revdescription>
			 <para role="author">Ella Deon Lackey
				<email>dlackey@redhat.com</email></para>
			 <para role="publisher">Red Hat Content Services</para>
		  </revdescription>
		</revision>
	 </revhistory>
	 <releaseinfo> This manual describes version &version; of &app;.
		</releaseinfo>
	 <legalnotice>
		<title>Feedback</title>
		<para> To report a bug or make a suggestion regarding &app; or this manual, enter a bug through <ulink url="http://bugzilla.redhat.com/">Bugzilla</ulink>. </para>

	 </legalnotice>
	 <abstract role="description">
		<para>The <application>Subscription Manager</application> is a systems administration tool which manages the product-related subscriptions for a local system.</para>
	 </abstract>
  </articleinfo>
  <indexterm>
	 <primary>subscriptions</primary>
  </indexterm>
<!-- ============= Document Body ============================= -->

<!-- ============= Introduction ============================== -->

  <sect1 id="subscription-manager-introduction">
	 <title>Introduction</title>
	<indexterm>
		<primary>subscriptions</primary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>subscription management</secondary>
	</indexterm>
	<para>
		Effective asset management requires a mechanism to handle the software inventory &mdash; both the type of products and the number of systems that the software is installed on. The subscription management service provides that mechanism and gives transparency into both global allocations of subscriptions for an entire organization and the specific subscriptions assigned to a single system.
	</para>

			<para>
				The basis of software management is a <emphasis>subscription</emphasis>. A subscription contains both the <emphasis>products</emphasis> that are available, the support levels, and the <emphasis>quantities</emphasis>, or number of servers, that the product can be installed on.
			</para>
			<para>
				Subscriptions are managed though a subscription management service such as the Customer Portal Subscription Management (hosted) or an on-premise service like Subscription Asset Manager. A second service delivers the actual software bits, in tandem with the subscriptions managed for a system.
			</para>
			<para>
				The subscription management service maintains a list of every subscription or set of subscriptions for an organization. The list of subscriptions is a <emphasis>pool</emphasis>, identified by a unique ID (called a <emphasis>pool ID</emphasis>). A system is <emphasis>registered</emphasis>, or added, to the subscription management service to allow it to manage the subscriptions for that system. Like the subscription, the system is also added to the subscription management service inventory and is assigned a unique consumer ID within the service. The subscriptions and system entries, together, comprise the <emphasis>inventory</emphasis>.
			</para>
			<para>
				A system allocates one of the quantities of a product in a subscription to itself. When a subscription is consumed, it is an <emphasis>subscription</emphasis>. (An subscription is roughly analogous to a user license, in that it grants all of the rights to that product to that system. Unlike a user license, a subscription does not grant the right to <emphasis>use</emphasis> the software; with the subscription model, a subscription grants the ability to download the packages and receive updates.) Because the available quantity in a subscription pool lowers once a system subscribes to it, the system <emphasis>consumes</emphasis> the subscription.
			</para>
			<para>
				The repository where the product software is located is organized according to the <emphasis>product</emphasis>. Each product group within
				the repository may contain the primary software packages and then any required dependencies or associated packages. Altogether, the product and its
				associated packages are called a <emphasis>content set</emphasis>. (A content set for a product even includes other versions of the product.)
				When a subscription grants access to a product, it includes access to all of the associated packages in that content set.
			</para>
			<para>
				A single subscription can have multiple products, and each system can have multiple different subscriptions, depending on how many entitlement certificates are loaded on the machine.
			</para>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>hardware compatibility</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>hardware compatibility</secondary>
	</indexterm>
			<para>
				Any number of products, for any number of different architectures, can be contained in a single subscription. The subscription options that are visible to a consumer are filtered, by default, according to whether the architecture for the product matches the architecture of the system. This is <emphasis>compatibility</emphasis>. Depending on compatible subscriptions makes sure that subscriptions are allocated efficiently, only to systems which can actually use the products.
			</para>
			<para>
				Some subscriptions define some element count on the system, like the number of sockets, the number of virtual guests on a host, or the number of clients in a domain. Multiple subscriptions can be combined together to cover the counts on the system.
				<!--	For example, if there is a four socket server, two subscriptions for "RHEL Server for Two Sockets" can be consumed by the system to cover the socket count. Combining multiple subscriptions to cover the system count is called <emphasis>stacking</emphasis>.
				-->
			</para>
			<para>
				The subscription tools can display even incompatible subscriptions. Alternatively, the architecture definition for the system can be overridden by defining custom system facts for the subscription tools to use.
			</para>
			<para>
				It is important to distinguish between subscribing to a product and installing a product. A subscription is essentially a statement of whatever products an organization has purchased. The act of subscribing to a subscription means that a system is allowed to install the product with a valid certificate, but subscribing does not actually perform any installation or updates. In the reverse, a product can also be installed apart from any subscriptions for the system; the system is just does not have a valid product certificate. Red Hat Subscription Manager simplifies product installation by using <command>yum</command> plug-ins that come with its tools.
			</para>
			<para>
				The Red Hat Subscription Manager GUI has a single window with tabbed sections that offer quick views into the current state of the system, showing installed products, subscriptions for the system, and available subscriptions the system has access to. These tabs also allow administrators to manage subscriptions by applying and removing subscriptions from the system.
			</para>
			<para>
				Red Hat Subscription Manager has three main areas to manage products and subscriptions:
			</para>
			<itemizedlist>
				<listitem>
					<para>
						The <guibutton>My Subscriptions</guibutton> area shows all of the current subscriptions applied to the system.
					</para>

				</listitem>
				<listitem>
					<para>
						The <guibutton>Available Subscriptions</guibutton> area shows all of the subscriptions that are available to the system. The default displays only subscriptions that are compatible with the hardware, but these can be filtered to show subscriptions corresponding to other installed programs, only subscriptions that have not been installed, and subscriptions based on date.
					</para>

				</listitem>
				<listitem>
					<para>
						The <guibutton>My Installed Products</guibutton> area shows the currently installed products on the system, along with their subscription status. This does not allow administrators to install software, only to view installed software.
					</para>

				</listitem>

			</itemizedlist>
			<figure id="fig.rhsm-gui-overview">
				<title>Red Hat Subscription Manager Main Screen</title>
				<mediaobject>
					<imageobject>
						<imagedata fileref="figures/rhsm-subscribe-prod.png" />
					</imageobject>
					<textobject>
						<phrase>
							The Subscription Manager Main Window, annotated.
						</phrase>
					</textobject>

				</mediaobject>

			</figure>

		</sect1>


		<sect1 id="launching-rhsm">
			<title>Launching Red Hat Subscription Manager</title>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>client tools</secondary>
		<tertiary>launching Red Hat Subscription Manager</tertiary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>client tools</secondary>
		<tertiary>launching Red Hat Subscription Manager</tertiary>
	</indexterm>
			<para>
				Red Hat Subscription Manager is listed as one of the administrative tools in the <guimenu>System =&gt; Administration</guimenu> menu in 6.x and in the <guimenuitem>Applications =&gt; System Tools</guimenuitem> menu in 5.x.
			</para>
			<para>
				Alternatively, the Red Hat Subscription Manager GUI can be opened from the command line with a single command:
			</para>

			<programlisting language="Bash">[root@server1 ~]# subscription-manager-gui</programlisting>
			<note><title>NOTE</title>
				<para>
					Both the GUI and the CLI for Subscription Manager must be run as <command>root</command>.
				</para>
			</note>

		</sect1>

	<sect1 id="registering-machine-ui">
		<title>Registering, Unregistering, and Reregistering a System</title>
	<indexterm>
		<primary>systems</primary>
		<secondary>registering</secondary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>unregistering</secondary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>reregistering</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>reregistering</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>reregistering</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>unregistering</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>unregistering</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>registering</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>registering</secondary>
	</indexterm>
		<para>
			Entitlements are managed by organizing and maintaining the systems which use subscriptions. The subscriptions are managed by Red Hat through the subscription management service. A system is recognized to the subscription management service by being <emphasis>registered</emphasis> with the service. The subscription management service assigns the system (called a <emphasis>consumer</emphasis>) a unique consumer ID (essentially as an inventory number) and issues that system an identifying certificate (with the UUID in its subject name) to identify that system.
		</para>
		<para>
			Whenever a subscription is purchased by an organization, that subscription can be <emphasis>applied</emphasis> or <emphasis>attached</emphasis> to the system. This means that a portion of the subscription pool is associated with that consumer ID in the inventory. When the system contacts the content delivery network and downloads the software, the licenses have been already assigned to the system. The system has valid certificates for its subscriptions.
		</para>
		<para>
			Systems can be registered with a subscription management service during the firstboot process or as part of the kickstart setup (both described in the <citetitle>Installation Guide</citetitle>). Systems can also be registered after they have been configured or removed from the subscription management service inventory (unregistered) if they will no longer be managed within that subscription management service.
		</para>

		<sect2 id="registering-ui">
			<title>Registering Systems with Customer Portal Subscription Management</title>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>registering</secondary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>registering</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>registering</secondary>
	</indexterm>
		<para>
			For infrastructures which use the Customer Portal Subscription Management services, systems can use the default Subscription Manager configuration. The only information required to register the system is the username and password of the Red Hat customer account.
		</para>
			<orderedlist>
				<listitem>
					<para>
						If the system is not already registered, then there is a <guibutton>Register</guibutton> button in the <guilabel>My Installed Products</guilabel> tab. 
					</para>
				</listitem>
				<listitem>
					<para>
						Enter the username and password of the user account on the subscription management service; this is the account used to access the Customer Portal.
					</para>
				</listitem>
				<listitem>
					<para>
						Optionally, select the <guilabel>Automatically subscribe...</guilabel> checkbox, so that the system is subscribed to the best matched subscription when it is registered. Otherwise, the system must be subscribed manually.
					</para>

				</listitem>

			</orderedlist>
		</sect2>

		<sect2 id="registering-multiorg"><title>Registering Systems with a Local Subscription Management Application</title>
			<para>
				Subscription management services such as Subscription Asset Manager are on-premise applications. The local subscription management service receives information about its available subscriptions from Red Hat and then parcels them out to the local systems. This <emphasis>subscription management application</emphasis> can be Subscription Asset Manager or CloudForms System Engine.
			</para>
			<para>
				Infrastructures which manage their own local content repository and subscription management service must have a defined
				<emphasis>organization</emphasis>. This organization is essentially a group definition, and systems must be
				assigned to that group as part of the registration process. This allows there to be multiple, discrete organizations or
				tenants within the infrastructure.
			</para>
			<para>
				When a system is registered using the Subscription Manager GUI, Subscription Manager automatically scans the local subscription and content service
				to see what organizations are configured.
			</para>
			<orderedlist>
				<listitem>
					<para>
						Update the local Subscription Manager configuration to point to the subscription management application rather than Customer Portal Subscription Management.
						</para>
						<orderedlist>
			<listitem>
				<para>
						Obtain a copy of the CA certificate for the Subscription Asset Manager server and install it in the Subscription Manager certificate directory.

				</para>
<screen>[root@server ~]# cd /etc/rhsm/ca
[root@server ca]# scp  sam.example.com:/etc/candlepin/certs/candlepin-ca.crt .
[root@server ca]# mv candlepin-ca.crt sam_local.pem</screen>						

			</listitem>
			<listitem>
				<para>
					Update the settings in the <filename>rhsm.conf</filename> file.
				This can be done by editing the <filename>rhsm.conf</filename> file directly or by using the <command>config</command> command. 
			For example:
			</para>
<programlisting>[root@server1 ~]# subscription-manager config --server.hostname=sam.example.com --server.prefix=/sam/api --rhsm.baseurl=https://sam.example.com:8088 --rhsm.repo_ca_cert=%\(ca_cert_dir\)ssam_local.pem</programlisting>
			</listitem>
		</orderedlist>
	</listitem>
				<listitem>
					<para>
						Click the <guibutton>Register</guibutton> button in the <guilabel>My Installed Products</guilabel> tab.
					</para>
				</listitem>
				<listitem>
					<para>
						Enter the username and password of the user account for the subscription management service.
					</para>
				</listitem>
				<listitem>
					<para>
						Subscription Manager scans the network for available organizations.
					</para>
					<para>
						When the configured organizations are detected, Subscription Manager prompts for the organization for the system to join.
					</para>
				</listitem>
				<listitem>
					<para>
						A system is automatically subscribed to the best-matched subscriptions. To disable autosubscribing and apply subscriptions manually, select the <guilabel>Manually assign subscriptions after registration</guilabel> checkbox.
					</para>

				</listitem>

			</orderedlist>
		</sect2>

		<sect2 id="un-registering">
			<title>Unregistering</title>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>unregistering</secondary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>unregistering</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>unregistering</secondary>
	</indexterm>
			<para>
				Unregistering a system removes the system's entry from the subscription management service, removes any subscriptions, and, locally, deletes its identity and entitlement certificates. It does not change or uninstall any currently-installed products.
			</para>
			<para>
				Select the <guimenuitem>Unregister</guimenuitem> menu item from the task menu in the GUI.
			</para>
		</sect2>

	</sect1>

		<sect1 id="sub-ui">
			<title>Subscribing and Unsubscribing</title>
			<sect2 id="subscribing-product-ui">
				<title>Subscribing to a Product</title>
	<indexterm>
		<primary>subscribing</primary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>subscribing</secondary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>subscribing</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>subscribing</secondary>
	</indexterm>
	<orderedlist>
					<listitem>
						<para>
							Open the <guilabel>All Available Subscriptions</guilabel> tab.
						</para>

					</listitem>
					<listitem>
						<para>
							Click the <guibutton>Filters</guibutton> button.
						</para>

					</listitem>
					<listitem>
						<para>
							Set the filters to use to search for available subscriptions. Subscriptions can be filtered by their active date and by their name. The checkboxes provide more fine-grained filtering:
						</para>
						<itemizedlist>
							<listitem>
								<para>
									<emphasis>match my system</emphasis> shows only subscriptions which match the system architecture.
								</para>

							</listitem>
							<listitem>
								<para>
									<emphasis>match my installed products</emphasis> shows subscriptions which work with currently installed products on the system.
								</para>

							</listitem>
							<listitem>
								<para>
									<emphasis>have no overlap with existing subscriptions</emphasis> excludes subscriptions with duplicate products. If a system is already subscribed to a subscription for a specific product or if multiple subscriptions supply the same product, then the subscription management service filters those subscriptions and shows only the best fit.
								</para>

							</listitem>

						</itemizedlist>
					</listitem>
					<listitem>
						<para>
							Select the desired subscription. 
						</para>
					</listitem>
					<listitem>
						<para>
							Click the <guibutton>Subscribe</guibutton> button.
						</para>

					</listitem>

				</orderedlist>

			</sect2>

			<sect2 id="unsubscribing-product-ui">
				<title>Unsubscribing</title>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>unsubscribing</secondary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>unsubscribing</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>unsubscribing</secondary>
	</indexterm>
				<orderedlist>
					<listitem>
						<para>
							Open the <guilabel>My Subscriptions</guilabel> tab.
						</para>
						<para>
							All of the active subscriptions to which the system is currently subscribed are listed. (The products available through the subscription may or may not be installed.)
						</para>
					</listitem>
					<listitem>
						<para>
							Select the subscription to remove. 
						</para>

					</listitem>
					<listitem>
						<para>
							Click the <guibutton>Remove</guibutton> button in the bottom right of the window.
						</para>

					</listitem>

				</orderedlist>

		</sect2>
		<!--
		<sect2 id="stacking"><title>Stacking Subscriptions</title>
			<para>
				Some subscriptions define a <emphasis>count</emphasis> which works as a restriction on the subscription. For example, counts can be set on the number of sockets or CPUs on a machine,
				the number of virtual guests on a host, or the number of clients in a domain.
			</para>
			<para>
				The entire count must be covered for the system to be fully entitled. If there are four sockets on a machine, then
				the server subscriptions must cover four sockets, or if there are eight guests, then there must be enough to cover all eight guests.
			</para>
			<para>
				Many subscriptions can be combined together to cover the count on the system. Two subscriptions for <emphasis>RHEL Server for 2-Sockets</emphasis> can be combined together to
				cover a four-socket machine. These subscriptions can be <emphasis>stacked</emphasis>.
			</para>
			<para>
				There are some rules on what subscriptions can be stacked:
			</para>
			<itemizedlist>

				<listitem>
					<para>
						Subscriptions can be stacked by using multiple quantities from the same subscription set.
					</para>
				</listitem>
				<listitem>
					<para>
						Subscriptions from different contracts can be stacked together.
					</para>
				</listitem>
				<listitem>
					<para>
						Only the same product subscription can be stacked. <emphasis>RHEL Server for 2-Sockets</emphasis> can be stacked with another <emphasis>RHEL Server for 2-Sockets</emphasis> subscription,
						but not with <emphasis>RHEL Server for Virtualization</emphasis>, even if they both cover the socket count.
					</para>
				</listitem>
				<listitem>
					<para>
						In the GUI, available subscriptions are grouped first by what subscriptions are compatible for stacking, and then by other available subscriptions.
					</para>
				</listitem>
			</itemizedlist>
			<para>
				To stack subscriptions in the Subscription Manager GUI, simply set the <guilabel>Quantity</guilabel> field to the required quantity to cover the count.
			</para>
		</sect2>
		-->

			<sect2 id="ADDING-SUB">
				<title>Manually Adding a New Subscription</title>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>subscribing</secondary>
		<tertiary>uploading product certs</tertiary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>subscribing</secondary>
		<tertiary>uploading product certs</tertiary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>subscribing</secondary>
		<tertiary>uploading product certs</tertiary>
	</indexterm>
				<para>
					In certain situations, new product subscriptions can be added by uploading the X.509 entitlements certificate directly rather than polling the subscription management service. For example, consumers which are offline must have subscriptions manually added because they cannot connect to the subscription management service directly.
				</para>
				<orderedlist>
			<listitem>
				<para>
						Retrieve the certificate information for the system from the Customer Portal.
				</para>
				<orderedlist>
			<listitem>
				<para>
					Open the <guilabel>Subscriptions</guilabel> tab in the Customer Portal, and select the <guilabel>Overview</guilabel> item under the <guilabel>Subscription Management</guilabel> area.
				</para>

			</listitem>
			<listitem>
				<para>
					In the summary of systems, click the name of the offline system.
				</para>
			</listitem>
					<listitem>
						<para>
							If necessary, assign the subscriptions to the system.
						</para>
					</listitem>
			<listitem>
				<para>
					Open the <guibutton>My Subscriptions</guibutton> tab.
				</para>
			</listitem>
			<listitem>
				<para>
					Click the <guibutton>Download All Certificates</guibutton> button. This exports all of the entitlements certificates, for each product, to a single <filename>.zip</filename> file. Save the file to some kind of portable media, like a flash drive.
				</para>
				<para>
					To download individual entitlement certificates, click the <guilabel>Download</guilabel> link on the row for the subscription.
				</para>
			</listitem>
				</orderedlist>
			</listitem>
				<listitem>
					<para>
						Copy the certificates over to the system, and unzip the archive.
					</para>
				</listitem>
					<listitem>
						<para>
							Launch the Red Hat Subscription Manager GUI. For example:
						</para>

<screen>subscription-manager-gui</screen>

					</listitem>
					<listitem>
						<para>
							In the toolbar, click the plus icon to import a subscription certificate.
						</para>
					</listitem>
					<listitem>
						<para>
							Click the file folder icon at the right of the field to navigate to the <filename>.pem</filename> file of the product certificate.
						</para>
					</listitem>
					<listitem>
						<para>
							In the task menu, select the <guimenuitem>Import Certificate</guimenuitem> option.
						</para>

					</listitem>

				</orderedlist>
				<para>
					The system is then entitled for all of the subscriptions that were uploaded.
				</para>

			</sect2>

		</sect1>

		

	<sect1 id="autosubscribing"><title>Autosubscribing Systems</title>
	<indexterm>
		<primary>autosubscribing</primary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>autosubscribing</secondary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>autosubscribing</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>autosubscribing</secondary>
	</indexterm>
		<para>
			With Subscription Manager, the act of <emphasis>registering</emphasis> a system can be separate from the act of <emphasis>applying</emphasis> or <emphasis>attaching</emphasis> subscriptions to the system. This separation actually allows a fair amount of flexibility in how administrators apply subscriptions and even allows administrators to force specific subscriptions to a system when the logic of an automatic subscription process may prevent that subscription.
		</para>
		<para>
			But this separation is not desirable in a lot of deployments. The simplicity of registering and subscribing systems simultaneously is easier for bulk deployments, kickstarts, QE or development systems, and 
			many other scenarios. 
		</para>
		<para>
			A system can be autosubscribed in either of two ways:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					<emphasis>During registration.</emphasis> A system can be autosubscribed during firstboot or when the system is registered. The default, in fact, is to autosubscribe the system. (To disable autosubscribe and only register, select the <guilabel>Manually assign subscriptions after registration</guilabel> checkbox.)
				</para>
			</listitem>
			<listitem>
				<para>
					<emphasis>From the Installed Products tab</emphasis>. After registration, the <guilabel>My Installed Products</guilabel> tab tracks the subscriptions and validity periods for products on the system. There is an <guibutton>Auto-subscribe</guibutton> button on this tab which automatically selects new subscriptions for any products with no or partial subscriptions applied.
				</para>
			</listitem>
		</itemizedlist>
		<note><title>NOTE</title>
			<para>
				In Red Hat Enterprise Linux 6.3, Subscription Manager supports preferences for service level settings for subscriptions. Service level preferences are one component of the algorithm that Subscription Manager uses to calculate the best matching subscriptions. 
			</para>
			<para>
				Other factors include other installed products, contract expiry, architecture, and platform.
			</para>
		</note>
	</sect1>


	<sect1 id="activating-machine"><title>Redeeming Subscriptions Through Activation Keys</title>
		<para>
			Systems can be set up with pre-existing subscriptions already available to that system. For some systems which were purchased through third-party vendors, a subscription to Red Hat products is included with the purchase of the machine. Companies using Subscription Asset Manager can apply subscriptions to their own systems by creating <emphasis>activation keys</emphasis> which are used to claim those assigned subscriptions.
		</para>
		<para>
			Red Hat Subscription Manager pulls information about the system hardware and the BIOS into the system facts to recognize the hardware vendor. If the vendor and BIOS information matches a certain configuration, then the subscription can be <emphasis>redeemed</emphasis>, which allows the system to be automatically subscribed to the subscriptions purchased with the machine.
		</para>

				<para>
					If the machine does not have any subscriptions to be redeemed, then the <guibutton>Redeem a Subscription</guibutton> button is not there.
				</para>
				<orderedlist>
					<listitem>
						<para>
							In the task menu of the Subscription Manager window, select the <guimenuitem>Redeem a subscription</guimenuitem> menu item.
						</para>
					</listitem>
					<listitem>
						<para>
							In the pop-up window, enter the email address to send the notification to when the redemption is complete.
						</para>
					</listitem>
					<listitem>
						<para>
							Click the <guibutton>Redeem</guibutton> button.
						</para>
					</listitem>
				</orderedlist>
				<para>
					It can take up to ten minutes for the confirmation email to arrive.
				</para>
	</sect1>


	<sect1 id="viewing-ents">
		<title>Viewing Available and Used Subscriptions</title>
		<para>
			To manage subscriptions, administrators need to know both what subscriptions a system is currently consuming and what subscriptions are available to the system.
		</para>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>viewing</secondary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>viewing</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>viewing</secondary>
	</indexterm>
			<para>
				The Red Hat Subscription Manager tools give a more detailed view of subscriptions than is available through the global tools of the Customer Portal. Three tabs summarize each of the subscriptions and products for the specific machine: installed products (with subscriptions), applied subscriptions, and available subscriptions.
			</para>
			<para>
				These summaries are always displayed in the Red Hat Subscription Manager GUI.
			</para>
			<formalpara>
				<title>Applied Subscriptions</title>
				<para>
					The <guibutton>My Subscriptions</guibutton> area shows all of the current subscriptions that the system is subscribed to.
				</para>

			</formalpara>
			<formalpara>
				<title>Available Subscriptions</title>
				<para>
					The <guibutton>Available Subscriptions</guibutton> area shows all of the subscriptions that are available to the system. The default displays only subscriptions that are compatible with the hardware, but these can be filtered to show subscriptions corresponding to other installed programs, only subscriptions that have not been installed, and subscriptions based on date.
				</para>

			</formalpara>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>viewing</secondary>
		<tertiary>filters</tertiary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>viewing</secondary>
		<tertiary>filters</tertiary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>viewing</secondary>
		<tertiary>filters</tertiary>
	</indexterm>
			<para>
				The filters dynamically search for available subscriptions. Subscriptions can be filtered by their active date and by their name. The checkboxes provide more fine-grained filtering:
			</para>
			<itemizedlist>
				<listitem>
					<para>
						<emphasis>match my system</emphasis> shows only subscriptions which match the system architecture.
					</para>

				</listitem>
				<listitem>
					<para>
						<emphasis>match my installed products</emphasis> shows subscriptions which work with currently installed products on the system.
					</para>

				</listitem>
				<listitem>
					<para>
						<emphasis>have no overlap with existing subscriptions</emphasis> excludes subscriptions with duplicate products. If a system is already subscribed to a subscription for a specific product or if multiple subscriptions supply the same product, then the subscription management service filters those subscriptions and shows only the best fit.
					</para>

				</listitem>

			</itemizedlist>
			<formalpara>
				<title>Installed Products</title>
				<para>
					The <guibutton>My Installed Products</guibutton> area shows the currently installed products on the system, along with their subscription status. This does not allow administrators to install software, only to view installed software.
				</para>

			</formalpara>

		</sect1>

		
		

	<sect1 id="sla-preferences"><title>Setting Service Level Preferences</title>
	<indexterm>
		<primary>service-level preference</primary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>service-level preference</secondary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>service levels</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>service-level preference</secondary>
	</indexterm>
	<para>
				Part of a subscription is a defined service level for that product on a given system. Red Hat service levels are defined in the contract; a summary of production support levels is available at <ulink url="https://access.redhat.com/support/offerings/production/sla.html" />.
			</para>
			<para>
				The service information for each subscription is part of the subscription details. Two attributes are displayed, per subscription: its support level and its support type. The <emphasis>level</emphasis> defines how quickly support is guaranteed to respond to a case. The <emphasis>type</emphasis> defines the methods of communication; for production level support, this is always web and phone.
			</para>
			<para>
				An organization can have multiple levels of support available, even for the same product. Even on the same system, different product subscriptions could have different service levels. Additionally, a single product could have multiple service levels available.
				</para>
				<para>
					A system can be set up to select subscriptions based on a preferred service level. This is used as a component in autosubscribing a system.
				</para>
		<para>
			To assign a service level, click the preferences icon, and select the desired service level from the drop-down menu.
		</para>
	</sect1>
		

	<sect1 id="ystream-preferences"><title>Setting Release Version Preferences</title>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>static release version</secondary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>static release version</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>static release version</secondary>
	</indexterm>
	<para>
		Many IT environments have to be certified to meet a certain level of security or other 
		criteria. In that case, major upgrades must be carefully planned and controlled &mdash; 
		so administrators can't simply run <command>yum update</command> and move from version to 
		version.
	</para>
	<para>
		The preferences dialog can set a preferred minor, or <emphasis>y-stream</emphasis>, release
		number for the system to stick to. This limits the system to content repositories associated 
		with that operating system version instead of moving to the newest or latest version repositories. 
		For example, if the preferred operating system version is 6.3, then 6.3 content repositories are 
		preferred for all installed and subscribed products for the system, even if other repositories 
		are available.
	</para>
		<para>
			To assign a preferred operating system version, click the preferences icon, and select the desired operating system version number from the drop-down menu.
		</para>
	</sect1>

	<sect1 id="responding-to-nags-ui">
		<title>Responding to Subscription Notifications</title>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>notifications</secondary>
	</indexterm>
	<indexterm>
		<primary>systems</primary>
		<secondary>notifications</secondary>
	</indexterm>
	<indexterm>
		<primary>subscriptions</primary>
		<secondary>notifications</secondary>
	</indexterm>
		<para>
			Red Hat Subscription Manager provides a series of log and GUI messages that indicate any changes to the valid certificates of any installed products for a system. In the Subscription Manager GUI,
			the status of the system subscriptions are color-coded, where <emphasis>green</emphasis> means all products are fully subscribed and updates are supported, <emphasis>yellow</emphasis>
			means that some products may not be subscribed but updates are still in effect, and <emphasis>red</emphasis> means that updates are disabled.
		</para>
		<para>
			Whenever there is a warning about subscription changes, a small icon appears in the notification area, similar to a fuel gauge.
		</para>
		<para>
			As any installed product nears the expiration date of the subscription, the Subscription Manager daemon issues a warning. A similar message is given when the system has products without a valid certificate, meaning either the system is not subscribed to a subscription that entitles that product or the product is installed past the expiration of the subscription. Clicking the <guilabel>Manage My Subscriptions...</guilabel> button in the subscription notification window opens the Red Hat Subscription Manager GUI to view and update subscriptions.
		</para>
		<para>
			The <guilabel>My Installed Products</guilabel> tab has a small icon that indicates the overall status of subscriptions on the system. <emphasis>Green</emphasis> means all products are fully subscribed with supported updates, <emphasis>yellow</emphasis> 
			means that some products may not be subscribed but updates are still in effect, and <emphasis>red</emphasis> means that updates are disabled. The total number of products which do not have valid subscriptions is listed at the text summary at the top of the <guilabel>My Installed Products</guilabel> tab. Otherwise, the summary shows how long the system subscriptions are valid, meaning the next upcoming subscription expiration date.
		</para>
		<figure id="fig.status">
			<title>Subscription Status Information</title>
			<mediaobject>
				<imageobject>
					<imagedata fileref="figures/rhsm-status.png" />
				</imageobject>
				<textobject>
					<phrase>
						Subscription status information.
					</phrase>
				</textobject>
			</mediaobject>
		</figure>
		<para>
			Each product has its own color-coded icon, indicating the subscription status of that specific product. 
		</para>
		<para>
			Clicking the <guibutton>Update</guibutton> button automatically applies the appropriate subscriptions for the products on the system.
		</para>
	</sect1>

</article>
